<app-auth-screen>
  <app-form-group
    [appForm]="loginForm"
    (appFormSubmit)="submit()">
    <!-- Email input -->
    @if (loginForm.controls.email; as emailControl) {
      <app-form-control>
        <app-label appFor="email">E-mail</app-label>
        <app-input
          [appControl]="emailControl"
          appName="email">
        </app-input>
        @if (emailControl.hasError('required') && emailControl.touched) {
          <app-validation-message>E-mail is required</app-validation-message>
        } @else if (emailControl.hasError('email') && emailControl.touched) {
          <app-validation-message>Invalid e-mail format</app-validation-message>
        }
      </app-form-control>
    }

    <!-- Password input -->
    @if (loginForm.controls.password; as passwordControl) {
      <app-form-control>
        <app-label appFor="password">Password</app-label>
        <app-input
          [appControl]="passwordControl"
          [appIsSecret]="true"
          appName="password">
        </app-input>
        @if (passwordControl.hasError('required') && passwordControl.touched) {
          <app-validation-message>Password is required</app-validation-message>
        }
      </app-form-control>
    }

    <!-- Submit button -->
    <button
      nbButton
      status="primary"
      class="w-full relative"
      [nbSpinner]="isAuthenticating()"
      [disabled]="isAuthenticating()">
      Sign-in
    </button>

    <!-- Redirect link -->
    <span
      [routerLink]="['/', appRoute.Auth, authRoute.SignUp]"
      class="caption-2 self-center cursor-pointer">
      Or create a new account <span class="underline">here.</span>
    </span>
  </app-form-group>
</app-auth-screen>
